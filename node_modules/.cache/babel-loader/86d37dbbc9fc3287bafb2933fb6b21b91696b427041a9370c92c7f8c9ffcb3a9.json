{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { useContext, useMemo } from 'react';\nimport { useList } from '../../controller';\nimport { ChoicesContext } from './ChoicesContext';\nexport var useChoicesContext = function (options) {\n  var _a, _b, _c;\n  if (options === void 0) {\n    options = {};\n  }\n  var context = useContext(ChoicesContext);\n  // @ts-ignore cannot satisfy the type of useList because of ability to pass partial options\n  var _d = useList({\n      data: options.choices,\n      isLoading: (_a = options.isLoading) !== null && _a !== void 0 ? _a : false,\n      isPending: (_b = options.isPending) !== null && _b !== void 0 ? _b : false,\n      isFetching: (_c = options.isFetching) !== null && _c !== void 0 ? _c : false,\n      error: options.error,\n      // When not in a ChoicesContext, paginating does not make sense (e.g. AutocompleteInput).\n      perPage: Infinity\n    }),\n    data = _d.data,\n    list = __rest(_d, [\"data\"]);\n  var result = useMemo(function () {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\n    // Props take precedence over context.\n    if (options.choices || !context) {\n      return {\n        allChoices: data,\n        availableChoices: (_a = options.availableChoices) !== null && _a !== void 0 ? _a : data,\n        selectedChoices: (_b = options.selectedChoices) !== null && _b !== void 0 ? _b : data,\n        displayedFilters: (_c = options.selectedChoices) !== null && _c !== void 0 ? _c : list.displayedFilters,\n        error: options.error,\n        filter: (_d = options.filter) !== null && _d !== void 0 ? _d : list.filter,\n        filterValues: (_e = options.filterValues) !== null && _e !== void 0 ? _e : list.filterValues,\n        hasNextPage: (_f = options.hasNextPage) !== null && _f !== void 0 ? _f : list.hasNextPage,\n        hasPreviousPage: (_g = options.hasPreviousPage) !== null && _g !== void 0 ? _g : list.hasPreviousPage,\n        hideFilter: (_h = options.hideFilter) !== null && _h !== void 0 ? _h : list.hideFilter,\n        isLoading: (_j = list.isLoading) !== null && _j !== void 0 ? _j : false,\n        isPending: (_k = list.isPending) !== null && _k !== void 0 ? _k : false,\n        isFetching: (_l = list.isFetching) !== null && _l !== void 0 ? _l : false,\n        page: (_m = options.page) !== null && _m !== void 0 ? _m : list.page,\n        perPage: (_o = options.perPage) !== null && _o !== void 0 ? _o : list.perPage,\n        refetch: (_p = options.refetch) !== null && _p !== void 0 ? _p : list.refetch,\n        resource: (_q = options.resource) !== null && _q !== void 0 ? _q : list.resource,\n        setFilters: (_r = options.setFilters) !== null && _r !== void 0 ? _r : list.setFilters,\n        setPage: (_s = options.setPage) !== null && _s !== void 0 ? _s : list.setPage,\n        setPerPage: (_t = options.setPerPage) !== null && _t !== void 0 ? _t : list.setPerPage,\n        setSort: (_u = options.setSort) !== null && _u !== void 0 ? _u : list.setSort,\n        showFilter: (_v = options.showFilter) !== null && _v !== void 0 ? _v : list.showFilter,\n        sort: (_w = options.sort) !== null && _w !== void 0 ? _w : list.sort,\n        source: options.source,\n        total: (_x = options.total) !== null && _x !== void 0 ? _x : list.total,\n        isFromReference: false\n      };\n    }\n    return context;\n  }, [context, data, list, options]);\n  return result;\n};","map":{"version":3,"names":["useContext","useMemo","useList","ChoicesContext","useChoicesContext","options","context","_d","data","choices","isLoading","_a","isPending","_b","isFetching","_c","error","perPage","Infinity","list","__rest","result","allChoices","availableChoices","selectedChoices","displayedFilters","filter","filterValues","_e","hasNextPage","_f","hasPreviousPage","_g","hideFilter","_h","_j","_k","_l","page","_m","_o","refetch","_p","resource","_q","setFilters","_r","setPage","_s","setPerPage","_t","setSort","_u","showFilter","_v","sort","_w","source","total","_x","isFromReference"],"sources":["/Users/robertbinning/Documents/GitHub/robertbinning/passkey/node_modules/react-admin/node_modules/ra-core/src/form/choices/useChoicesContext.ts"],"sourcesContent":["import { useContext, useMemo } from 'react';\nimport { RaRecord } from '../../types';\nimport { useList } from '../../controller';\nimport { ChoicesContext, ChoicesContextValue } from './ChoicesContext';\n\nexport const useChoicesContext = <ChoicesType extends RaRecord = RaRecord>(\n    options: Partial<ChoicesContextValue> & { choices?: ChoicesType[] } = {}\n): ChoicesContextValue<ChoicesType> => {\n    const context = useContext(\n        ChoicesContext\n    ) as ChoicesContextValue<ChoicesType>;\n    // @ts-ignore cannot satisfy the type of useList because of ability to pass partial options\n    const { data, ...list } = useList<ChoicesType>({\n        data: options.choices,\n        isLoading: options.isLoading ?? false,\n        isPending: options.isPending ?? false,\n        isFetching: options.isFetching ?? false,\n        error: options.error,\n        // When not in a ChoicesContext, paginating does not make sense (e.g. AutocompleteInput).\n        perPage: Infinity,\n    });\n    const result = useMemo(() => {\n        // Props take precedence over context.\n        if (options.choices || !context) {\n            return {\n                allChoices: data,\n                availableChoices: options.availableChoices ?? data,\n                selectedChoices: options.selectedChoices ?? data,\n                displayedFilters:\n                    options.selectedChoices ?? list.displayedFilters,\n                error: options.error,\n                filter: options.filter ?? list.filter,\n                filterValues: options.filterValues ?? list.filterValues,\n                hasNextPage: options.hasNextPage ?? list.hasNextPage,\n                hasPreviousPage:\n                    options.hasPreviousPage ?? list.hasPreviousPage,\n                hideFilter: options.hideFilter ?? list.hideFilter,\n                isLoading: list.isLoading ?? false, // we must take the one for useList, otherwise the loading state isn't synchronized with the data\n                isPending: list.isPending ?? false, // same\n                isFetching: list.isFetching ?? false, // same\n                page: options.page ?? list.page,\n                perPage: options.perPage ?? list.perPage,\n                refetch: options.refetch ?? list.refetch,\n                resource: options.resource ?? list.resource,\n                setFilters: options.setFilters ?? list.setFilters,\n                setPage: options.setPage ?? list.setPage,\n                setPerPage: options.setPerPage ?? list.setPerPage,\n                setSort: options.setSort ?? list.setSort,\n                showFilter: options.showFilter ?? list.showFilter,\n                sort: options.sort ?? list.sort,\n                source: options.source,\n                total: options.total ?? list.total,\n                isFromReference: false,\n            };\n        }\n        return context;\n    }, [context, data, list, options]);\n\n    return result as ChoicesContextValue<ChoicesType>;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}