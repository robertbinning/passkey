{"ast":null,"code":"import { useCallback } from 'react';\nimport { useBasename } from './useBasename';\n/**\n * Get a callback to create a link to a given page in the admin app.\n *\n * The callback expects an object as parameter, containing the following properties:\n *   - type: 'list', 'edit', 'show' or 'create'\n *   - resource\n *   - id (optional), for 'edit' or 'show' pages\n *\n * This is used internally by react-admin to allow default components to work\n * in applications that are mounted on a sub path, e.g. '/admin'. If your app\n * is mounted in the root path, you don't need it, and you can create links by\n * hand, e.g. '/articles/1/show'.\n *\n * @example\n * import { useCreatePath, useRecordContext } from 'react-admin';\n * import { useNavigate } from 'react-router-dom';\n *\n * const PostEditButton = () => {\n *     const createPath = useCreatePath();\n *     const record = useRecordContext();\n *     const navigate = useNavigate();\n *\n *     const handleClick = () => {\n *         const link = createPath({\n *            type: 'edit',\n *            resource: 'posts',\n *            id: record.id\n *         });\n *         navigate(link);\n *     };\n *\n *    return <button onClick={handleClick}>Edit Post</button>;\n * };\n */\nexport var useCreatePath = function () {\n  var basename = useBasename();\n  return useCallback(function (_a) {\n    var resource = _a.resource,\n      id = _a.id,\n      type = _a.type;\n    if (['list', 'create', 'edit', 'show'].includes(type) && !resource) {\n      throw new Error('Cannot create a link without a resource. You must provide the resource name.');\n    }\n    switch (type) {\n      case 'list':\n        return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource));\n      case 'create':\n        return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource, \"/create\"));\n      case 'edit':\n        {\n          if (id == null) {\n            // maybe the id isn't defined yet\n            // instead of throwing an error, fallback to list link\n            return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource));\n          }\n          return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource, \"/\").concat(encodeURIComponent(id)));\n        }\n      case 'show':\n        {\n          if (id == null) {\n            // maybe the id isn't defined yet\n            // instead of throwing an error, fallback to list link\n            return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource));\n          }\n          return removeDoubleSlashes(\"\".concat(basename, \"/\").concat(resource, \"/\").concat(encodeURIComponent(id), \"/show\"));\n        }\n      default:\n        return type;\n    }\n  }, [basename]);\n};\nexport var removeDoubleSlashes = function (path) {\n  return path.replace('//', '/');\n};","map":{"version":3,"names":["useCallback","useBasename","useCreatePath","basename","_a","resource","id","type","includes","Error","removeDoubleSlashes","concat","encodeURIComponent","path","replace"],"sources":["/Users/robertbinning/Documents/GitHub/robertbinning/passkey/node_modules/react-admin/node_modules/ra-core/src/routing/useCreatePath.ts"],"sourcesContent":["import { useCallback } from 'react';\n\nimport { Identifier } from '../types';\nimport { useBasename } from './useBasename';\n\n/**\n * Get a callback to create a link to a given page in the admin app.\n *\n * The callback expects an object as parameter, containing the following properties:\n *   - type: 'list', 'edit', 'show' or 'create'\n *   - resource\n *   - id (optional), for 'edit' or 'show' pages\n *\n * This is used internally by react-admin to allow default components to work\n * in applications that are mounted on a sub path, e.g. '/admin'. If your app\n * is mounted in the root path, you don't need it, and you can create links by\n * hand, e.g. '/articles/1/show'.\n *\n * @example\n * import { useCreatePath, useRecordContext } from 'react-admin';\n * import { useNavigate } from 'react-router-dom';\n *\n * const PostEditButton = () => {\n *     const createPath = useCreatePath();\n *     const record = useRecordContext();\n *     const navigate = useNavigate();\n *\n *     const handleClick = () => {\n *         const link = createPath({\n *            type: 'edit',\n *            resource: 'posts',\n *            id: record.id\n *         });\n *         navigate(link);\n *     };\n *\n *    return <button onClick={handleClick}>Edit Post</button>;\n * };\n */\nexport const useCreatePath = () => {\n    const basename = useBasename();\n    return useCallback(\n        ({ resource, id, type }: CreatePathParams): string => {\n            if (\n                ['list', 'create', 'edit', 'show'].includes(type) &&\n                !resource\n            ) {\n                throw new Error(\n                    'Cannot create a link without a resource. You must provide the resource name.'\n                );\n            }\n            switch (type) {\n                case 'list':\n                    return removeDoubleSlashes(`${basename}/${resource}`);\n                case 'create':\n                    return removeDoubleSlashes(\n                        `${basename}/${resource}/create`\n                    );\n                case 'edit': {\n                    if (id == null) {\n                        // maybe the id isn't defined yet\n                        // instead of throwing an error, fallback to list link\n                        return removeDoubleSlashes(`${basename}/${resource}`);\n                    }\n                    return removeDoubleSlashes(\n                        `${basename}/${resource}/${encodeURIComponent(id)}`\n                    );\n                }\n                case 'show': {\n                    if (id == null) {\n                        // maybe the id isn't defined yet\n                        // instead of throwing an error, fallback to list link\n                        return removeDoubleSlashes(`${basename}/${resource}`);\n                    }\n                    return removeDoubleSlashes(\n                        `${basename}/${resource}/${encodeURIComponent(id)}/show`\n                    );\n                }\n                default:\n                    return type;\n            }\n        },\n        [basename]\n    );\n};\n\ntype AnyString = string & {};\nexport type CreatePathType = 'list' | 'edit' | 'show' | 'create' | AnyString;\n\nexport interface CreatePathParams {\n    type: CreatePathType;\n    resource?: string;\n    id?: Identifier;\n}\n\nexport const removeDoubleSlashes = (path: string) => path.replace('//', '/');\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AAGnC,SAASC,WAAW,QAAQ,eAAe;AAE3C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAO,IAAMC,aAAa,GAAG,SAAAA,CAAA;EACzB,IAAMC,QAAQ,GAAGF,WAAW,EAAE;EAC9B,OAAOD,WAAW,CACd,UAACI,EAAwC;QAAtCC,QAAQ,GAAAD,EAAA,CAAAC,QAAA;MAAEC,EAAE,GAAAF,EAAA,CAAAE,EAAA;MAAEC,IAAI,GAAAH,EAAA,CAAAG,IAAA;IACjB,IACI,CAAC,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,CAACC,QAAQ,CAACD,IAAI,CAAC,IACjD,CAACF,QAAQ,EACX;MACE,MAAM,IAAII,KAAK,CACX,8EAA8E,CACjF;;IAEL,QAAQF,IAAI;MACR,KAAK,MAAM;QACP,OAAOG,mBAAmB,CAAC,GAAAC,MAAA,CAAGR,QAAQ,OAAAQ,MAAA,CAAIN,QAAQ,CAAE,CAAC;MACzD,KAAK,QAAQ;QACT,OAAOK,mBAAmB,CACtB,GAAAC,MAAA,CAAGR,QAAQ,OAAAQ,MAAA,CAAIN,QAAQ,YAAS,CACnC;MACL,KAAK,MAAM;QAAE;UACT,IAAIC,EAAE,IAAI,IAAI,EAAE;YACZ;YACA;YACA,OAAOI,mBAAmB,CAAC,GAAAC,MAAA,CAAGR,QAAQ,OAAAQ,MAAA,CAAIN,QAAQ,CAAE,CAAC;;UAEzD,OAAOK,mBAAmB,CACtB,GAAAC,MAAA,CAAGR,QAAQ,OAAAQ,MAAA,CAAIN,QAAQ,OAAAM,MAAA,CAAIC,kBAAkB,CAACN,EAAE,CAAC,CAAE,CACtD;;MAEL,KAAK,MAAM;QAAE;UACT,IAAIA,EAAE,IAAI,IAAI,EAAE;YACZ;YACA;YACA,OAAOI,mBAAmB,CAAC,GAAAC,MAAA,CAAGR,QAAQ,OAAAQ,MAAA,CAAIN,QAAQ,CAAE,CAAC;;UAEzD,OAAOK,mBAAmB,CACtB,GAAAC,MAAA,CAAGR,QAAQ,OAAAQ,MAAA,CAAIN,QAAQ,OAAAM,MAAA,CAAIC,kBAAkB,CAACN,EAAE,CAAC,UAAO,CAC3D;;MAEL;QACI,OAAOC,IAAI;;EAEvB,CAAC,EACD,CAACJ,QAAQ,CAAC,CACb;AACL,CAAC;AAWD,OAAO,IAAMO,mBAAmB,GAAG,SAAAA,CAACG,IAAY;EAAK,OAAAA,IAAI,CAACC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;AAAvB,CAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}