{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { ShowBase, InferredElement, getElementsFromRecords, useResourceContext, useShowContext } from 'ra-core';\nimport { capitalize, singularize } from 'inflection';\nimport { ShowView } from './ShowView';\nimport { showFieldTypes } from './showFieldTypes';\nexport var ShowGuesser = function (_a) {\n  var id = _a.id,\n    queryOptions = _a.queryOptions,\n    resource = _a.resource,\n    rest = __rest(_a, [\"id\", \"queryOptions\", \"resource\"]);\n  return React.createElement(ShowBase, {\n    id: id,\n    resource: resource,\n    queryOptions: queryOptions\n  }, React.createElement(ShowViewGuesser, __assign({}, rest)));\n};\nvar ShowViewGuesser = function (props) {\n  var resource = useResourceContext(props);\n  if (!resource) {\n    throw new Error(\"<ShowGuesser> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.\");\n  }\n  var record = useShowContext().record;\n  var _a = useState(null),\n    child = _a[0],\n    setChild = _a[1];\n  var _b = props.enableLog,\n    enableLog = _b === void 0 ? process.env.NODE_ENV === 'development' : _b,\n    rest = __rest(props, [\"enableLog\"]);\n  useEffect(function () {\n    setChild(null);\n  }, [resource]);\n  useEffect(function () {\n    if (record && !child) {\n      var inferredElements = getElementsFromRecords([record], showFieldTypes);\n      var inferredChild = new InferredElement(showFieldTypes.show, null, inferredElements);\n      setChild(inferredChild.getElement());\n      if (!enableLog) return;\n      var representation = inferredChild.getRepresentation();\n      var components = ['Show'].concat(Array.from(new Set(Array.from(representation.matchAll(/<([^/\\s>]+)/g)).map(function (match) {\n        return match[1];\n      }).filter(function (component) {\n        return component !== 'span';\n      })))).sort();\n      // eslint-disable-next-line no-console\n      console.log(\"Guessed Show:\\n\\nimport { \".concat(components.join(', '), \" } from 'react-admin';\\n\\nexport const \").concat(capitalize(singularize(resource)), \"Show = () => (\\n    <Show>\\n\").concat(inferredChild.getRepresentation(), \"\\n    </Show>\\n);\"));\n    }\n  }, [record, child, resource, enableLog]);\n  return React.createElement(ShowView, __assign({}, rest), child);\n};","map":{"version":3,"names":["React","useEffect","useState","ShowBase","InferredElement","getElementsFromRecords","useResourceContext","useShowContext","capitalize","singularize","ShowView","showFieldTypes","ShowGuesser","_a","id","queryOptions","resource","rest","__rest","createElement","ShowViewGuesser","__assign","props","Error","record","child","setChild","_b","enableLog","process","env","NODE_ENV","inferredElements","inferredChild","show","getElement","representation","getRepresentation","components","concat","Array","from","Set","matchAll","map","match","filter","component","sort","console","log","join"],"sources":["/Users/robertbinning/Documents/GitHub/robertbinning/passkey/node_modules/react-admin/node_modules/ra-ui-materialui/src/detail/ShowGuesser.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ReactNode, useEffect, useState } from 'react';\nimport {\n    ShowBase,\n    InferredElement,\n    getElementsFromRecords,\n    useResourceContext,\n    useShowContext,\n} from 'ra-core';\nimport { capitalize, singularize } from 'inflection';\n\nimport { ShowProps } from './Show';\nimport { ShowView } from './ShowView';\nimport { showFieldTypes } from './showFieldTypes';\n\nexport const ShowGuesser = ({\n    id,\n    queryOptions,\n    resource,\n    ...rest\n}: Omit<ShowProps, 'children'> & { enableLog?: boolean }) => (\n    <ShowBase id={id} resource={resource} queryOptions={queryOptions}>\n        <ShowViewGuesser {...rest} />\n    </ShowBase>\n);\n\nconst ShowViewGuesser = (\n    props: Omit<ShowProps, 'children'> & { enableLog?: boolean }\n) => {\n    const resource = useResourceContext(props);\n\n    if (!resource) {\n        throw new Error(\n            `<ShowGuesser> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.`\n        );\n    }\n\n    const { record } = useShowContext();\n    const [child, setChild] = useState<ReactNode>(null);\n    const { enableLog = process.env.NODE_ENV === 'development', ...rest } =\n        props;\n\n    useEffect(() => {\n        setChild(null);\n    }, [resource]);\n\n    useEffect(() => {\n        if (record && !child) {\n            const inferredElements = getElementsFromRecords(\n                [record],\n                showFieldTypes\n            );\n            const inferredChild = new InferredElement(\n                showFieldTypes.show,\n                null,\n                inferredElements\n            );\n            setChild(inferredChild.getElement());\n\n            if (!enableLog) return;\n\n            const representation = inferredChild.getRepresentation();\n            const components = ['Show']\n                .concat(\n                    Array.from(\n                        new Set(\n                            Array.from(representation.matchAll(/<([^/\\s>]+)/g))\n                                .map(match => match[1])\n                                .filter(component => component !== 'span')\n                        )\n                    )\n                )\n                .sort();\n\n            // eslint-disable-next-line no-console\n            console.log(\n                `Guessed Show:\n\nimport { ${components.join(', ')} } from 'react-admin';\n\nexport const ${capitalize(singularize(resource))}Show = () => (\n    <Show>\n${inferredChild.getRepresentation()}\n    </Show>\n);`\n            );\n        }\n    }, [record, child, resource, enableLog]);\n\n    return <ShowView {...rest}>{child}</ShowView>;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}