{"ast":null,"code":"import { useEffect } from 'react';\nimport { useSaveContext } from './useSaveContext';\n/**\n * Internal hook that registers a middleware for the save function in the current SaveContext.\n * @param callback The middleware function.\n */\nexport var useRegisterMutationMiddleware = function (callback) {\n  var _a = useSaveContext(),\n    registerMutationMiddleware = _a.registerMutationMiddleware,\n    unregisterMutationMiddleware = _a.unregisterMutationMiddleware;\n  useEffect(function () {\n    if (!registerMutationMiddleware || !unregisterMutationMiddleware) {\n      return;\n    }\n    registerMutationMiddleware(callback);\n    return function () {\n      unregisterMutationMiddleware(callback);\n    };\n  }, [callback, registerMutationMiddleware, unregisterMutationMiddleware]);\n};","map":{"version":3,"names":["useEffect","useSaveContext","useRegisterMutationMiddleware","callback","_a","registerMutationMiddleware","unregisterMutationMiddleware"],"sources":["/Users/robertbinning/Documents/GitHub/robertbinning/passkey/node_modules/react-admin/node_modules/ra-core/src/controller/saveContext/useRegisterMutationMiddleware.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport { Middleware } from './useMutationMiddlewares';\nimport { useSaveContext } from './useSaveContext';\n\n/**\n * Internal hook that registers a middleware for the save function in the current SaveContext.\n * @param callback The middleware function.\n */\nexport const useRegisterMutationMiddleware = <\n    MutateFunc extends (...args: any[]) => any = (...args: any[]) => any,\n>(\n    callback: Middleware<MutateFunc>\n) => {\n    const { registerMutationMiddleware, unregisterMutationMiddleware } =\n        useSaveContext();\n\n    useEffect(() => {\n        if (!registerMutationMiddleware || !unregisterMutationMiddleware) {\n            return;\n        }\n        registerMutationMiddleware(callback);\n        return () => {\n            unregisterMutationMiddleware(callback);\n        };\n    }, [callback, registerMutationMiddleware, unregisterMutationMiddleware]);\n};\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AAEjC,SAASC,cAAc,QAAQ,kBAAkB;AAEjD;;;;AAIA,OAAO,IAAMC,6BAA6B,GAAG,SAAAA,CAGzCC,QAAgC;EAE1B,IAAAC,EAAA,GACFH,cAAc,EAAE;IADZI,0BAA0B,GAAAD,EAAA,CAAAC,0BAAA;IAAEC,4BAA4B,GAAAF,EAAA,CAAAE,4BAC5C;EAEpBN,SAAS,CAAC;IACN,IAAI,CAACK,0BAA0B,IAAI,CAACC,4BAA4B,EAAE;MAC9D;;IAEJD,0BAA0B,CAACF,QAAQ,CAAC;IACpC,OAAO;MACHG,4BAA4B,CAACH,QAAQ,CAAC;IAC1C,CAAC;EACL,CAAC,EAAE,CAACA,QAAQ,EAAEE,0BAA0B,EAAEC,4BAA4B,CAAC,CAAC;AAC5E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}