{"ast":null,"code":"import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY } from './dataFetchActions';\nimport { defaultDataProvider } from './defaultDataProvider';\nvar fetchMap = {\n  create: CREATE,\n  delete: DELETE,\n  deleteMany: DELETE_MANY,\n  getList: GET_LIST,\n  getMany: GET_MANY,\n  getManyReference: GET_MANY_REFERENCE,\n  getOne: GET_ONE,\n  update: UPDATE,\n  updateMany: UPDATE_MANY\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nvar convertLegacyDataProvider = function (legacyDataProvider) {\n  var proxy = new Proxy(defaultDataProvider, {\n    get: function (_, name) {\n      return function (resource, params) {\n        if (Object.keys(fetchMap).includes(name.toString())) {\n          var fetchType = fetchMap[name.toString()];\n          return legacyDataProvider(fetchType, resource, params);\n        }\n        return legacyDataProvider(name.toString(), resource, params);\n      };\n    },\n    apply: function (_, __, args) {\n      return legacyDataProvider.apply(legacyDataProvider, args);\n    }\n  });\n  return proxy;\n};\nexport default convertLegacyDataProvider;","map":{"version":3,"names":["CREATE","DELETE","DELETE_MANY","GET_LIST","GET_MANY","GET_MANY_REFERENCE","GET_ONE","UPDATE","UPDATE_MANY","defaultDataProvider","fetchMap","create","delete","deleteMany","getList","getMany","getManyReference","getOne","update","updateMany","convertLegacyDataProvider","legacyDataProvider","proxy","Proxy","get","_","name","resource","params","Object","keys","includes","toString","fetchType","apply","__","args"],"sources":["/Users/robertbinning/Documents/GitHub/robertbinning/passkey/node_modules/react-admin/node_modules/ra-core/src/dataProvider/convertLegacyDataProvider.ts"],"sourcesContent":["import {\n    CREATE,\n    DELETE,\n    DELETE_MANY,\n    GET_LIST,\n    GET_MANY,\n    GET_MANY_REFERENCE,\n    GET_ONE,\n    UPDATE,\n    UPDATE_MANY,\n} from './dataFetchActions';\nimport { LegacyDataProvider, DataProvider } from '../types';\nimport { defaultDataProvider } from './defaultDataProvider';\n\nconst fetchMap = {\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\n\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nconst convertLegacyDataProvider = (\n    legacyDataProvider: LegacyDataProvider\n): DataProvider => {\n    const proxy = new Proxy(defaultDataProvider, {\n        get(_, name) {\n            return (resource, params) => {\n                if (Object.keys(fetchMap).includes(name.toString())) {\n                    const fetchType = fetchMap[name.toString()];\n                    return legacyDataProvider(fetchType, resource, params);\n                }\n\n                return legacyDataProvider(name.toString(), resource, params);\n            };\n        },\n        apply(_, __, args) {\n            return legacyDataProvider.apply(legacyDataProvider, args);\n        },\n    });\n\n    return proxy;\n};\n\nexport default convertLegacyDataProvider;\n"],"mappings":"AAAA,SACIA,MAAM,EACNC,MAAM,EACNC,WAAW,EACXC,QAAQ,EACRC,QAAQ,EACRC,kBAAkB,EAClBC,OAAO,EACPC,MAAM,EACNC,WAAW,QACR,oBAAoB;AAE3B,SAASC,mBAAmB,QAAQ,uBAAuB;AAE3D,IAAMC,QAAQ,GAAG;EACbC,MAAM,EAAEX,MAAM;EACdY,MAAM,EAAEX,MAAM;EACdY,UAAU,EAAEX,WAAW;EACvBY,OAAO,EAAEX,QAAQ;EACjBY,OAAO,EAAEX,QAAQ;EACjBY,gBAAgB,EAAEX,kBAAkB;EACpCY,MAAM,EAAEX,OAAO;EACfY,MAAM,EAAEX,MAAM;EACdY,UAAU,EAAEX;CACf;AAED;;;;;;;;;AASA,IAAMY,yBAAyB,GAAG,SAAAA,CAC9BC,kBAAsC;EAEtC,IAAMC,KAAK,GAAG,IAAIC,KAAK,CAACd,mBAAmB,EAAE;IACzCe,GAAG,WAAAA,CAACC,CAAC,EAAEC,IAAI;MACP,OAAO,UAACC,QAAQ,EAAEC,MAAM;QACpB,IAAIC,MAAM,CAACC,IAAI,CAACpB,QAAQ,CAAC,CAACqB,QAAQ,CAACL,IAAI,CAACM,QAAQ,EAAE,CAAC,EAAE;UACjD,IAAMC,SAAS,GAAGvB,QAAQ,CAACgB,IAAI,CAACM,QAAQ,EAAE,CAAC;UAC3C,OAAOX,kBAAkB,CAACY,SAAS,EAAEN,QAAQ,EAAEC,MAAM,CAAC;;QAG1D,OAAOP,kBAAkB,CAACK,IAAI,CAACM,QAAQ,EAAE,EAAEL,QAAQ,EAAEC,MAAM,CAAC;MAChE,CAAC;IACL,CAAC;IACDM,KAAK,WAAAA,CAACT,CAAC,EAAEU,EAAE,EAAEC,IAAI;MACb,OAAOf,kBAAkB,CAACa,KAAK,CAACb,kBAAkB,EAAEe,IAAI,CAAC;IAC7D;GACH,CAAC;EAEF,OAAOd,KAAK;AAChB,CAAC;AAED,eAAeF,yBAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}