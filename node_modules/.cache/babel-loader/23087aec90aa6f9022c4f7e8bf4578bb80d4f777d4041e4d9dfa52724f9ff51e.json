{"ast":null,"code":"import { fetchUtils } from 'ra-core';\nimport { stringify } from 'query-string';\nconst apiUrl = 'https://localhost:3000';\nconst httpClient = fetchUtils.fetchJson;\nconst dataProvider = {\n  getList: (resource, params) => {\n    if (resource === 'users') {\n      return httpClient(`${apiUrl}/users`).then(({\n        json\n      }) => ({\n        data: json,\n        total: json.length\n      }));\n    }\n    const {\n      page,\n      perPage\n    } = params.pagination;\n    const {\n      field,\n      order\n    } = params.sort;\n    const query = {\n      sort: JSON.stringify([field, order]),\n      range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n      filter: JSON.stringify(params.filter)\n    };\n    const url = `${apiUrl}/${resource}?${stringify(query)}`;\n    return httpClient(url).then(({\n      headers,\n      json\n    }) => ({\n      data: json,\n      total: parseInt(headers.get('content-range').split('/').pop(), 10)\n    }));\n  },\n  getOne: (resource, params) => httpClient(`${apiUrl}/${resource}/${params.id}`).then(({\n    json\n  }) => ({\n    data: json\n  })),\n  getMany: (resource, params) => {\n    const query = {\n      filter: JSON.stringify({\n        id: params.ids\n      })\n    };\n    const url = `${apiUrl}/${resource}?${stringify(query)}`;\n    return httpClient(url).then(({\n      json\n    }) => ({\n      data: json\n    }));\n  },\n  getManyReference: (resource, params) => {\n    const {\n      page,\n      perPage\n    } = params.pagination;\n    const {\n      field,\n      order\n    } = params.sort;\n    const query = {\n      sort: JSON.stringify([field, order]),\n      range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n      filter: JSON.stringify({\n        ...params.filter,\n        [params.target]: params.id\n      })\n    };\n    const url = `${apiUrl}/${resource}?${stringify(query)}`;\n    return httpClient(url).then(({\n      headers,\n      json\n    }) => ({\n      data: json,\n      total: parseInt(headers.get('content-range').split('/').pop(), 10)\n    }));\n  },\n  update: (resource, params) => httpClient(`${apiUrl}/${resource}/${params.id}`, {\n    method: 'PUT',\n    body: JSON.stringify(params.data)\n  }).then(({\n    json\n  }) => ({\n    data: json\n  })),\n  updateMany: (resource, params) => {\n    const query = {\n      filter: JSON.stringify({\n        id: params.ids\n      })\n    };\n    return httpClient(`${apiUrl}/${resource}`, {\n      method: 'PUT',\n      body: JSON.stringify(params.data)\n    }).then(({\n      json\n    }) => ({\n      data: json\n    }));\n  },\n  create: (resource, params) => httpClient(`${apiUrl}/${resource}`, {\n    method: 'POST',\n    body: JSON.stringify(params.data)\n  }).then(({\n    json\n  }) => ({\n    data: {\n      ...params.data,\n      id: json.id\n    }\n  })),\n  delete: (resource, params) => httpClient(`${apiUrl}/${resource}/${params.id}`, {\n    method: 'DELETE'\n  }).then(({\n    json\n  }) => ({\n    data: json\n  })),\n  deleteMany: (resource, params) => {\n    const query = {\n      filter: JSON.stringify({\n        id: params.ids\n      })\n    };\n    return httpClient(`${apiUrl}/${resource}`, {\n      method: 'DELETE',\n      body: JSON.stringify(params.data)\n    }).then(({\n      json\n    }) => ({\n      data: json\n    }));\n  }\n};\nexport default dataProvider;","map":{"version":3,"names":["fetchUtils","stringify","apiUrl","httpClient","fetchJson","dataProvider","getList","resource","params","then","json","data","total","length","page","perPage","pagination","field","order","sort","query","JSON","range","filter","url","headers","parseInt","get","split","pop","getOne","id","getMany","ids","getManyReference","target","update","method","body","updateMany","create","delete","deleteMany"],"sources":["/Users/robertbinning/Documents/GitHub/robertbinning/passkey/src/dataProvider.js"],"sourcesContent":["import { fetchUtils } from 'ra-core';\nimport { stringify } from 'query-string';\n\nconst apiUrl = 'https://localhost:3000';\nconst httpClient = fetchUtils.fetchJson;\n\nconst dataProvider = {\n    getList: (resource, params) => {\n        if (resource === 'users') {\n            return httpClient(`${apiUrl}/users`).then(({ json }) => ({\n                data: json,\n                total: json.length,\n            }));\n        }\n\n        const { page, perPage } = params.pagination;\n        const { field, order } = params.sort;\n        const query = {\n            sort: JSON.stringify([field, order]),\n            range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n            filter: JSON.stringify(params.filter),\n        };\n        const url = `${apiUrl}/${resource}?${stringify(query)}`;\n\n        return httpClient(url).then(({ headers, json }) => ({\n            data: json,\n            total: parseInt(headers.get('content-range').split('/').pop(), 10),\n        }));\n    },\n    getOne: (resource, params) =>\n        httpClient(`${apiUrl}/${resource}/${params.id}`).then(({ json }) => ({\n            data: json,\n        })),\n    getMany: (resource, params) => {\n        const query = {\n            filter: JSON.stringify({ id: params.ids }),\n        };\n        const url = `${apiUrl}/${resource}?${stringify(query)}`;\n        return httpClient(url).then(({ json }) => ({ data: json }));\n    },\n    getManyReference: (resource, params) => {\n        const { page, perPage } = params.pagination;\n        const { field, order } = params.sort;\n        const query = {\n            sort: JSON.stringify([field, order]),\n            range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n            filter: JSON.stringify({\n                ...params.filter,\n                [params.target]: params.id,\n            }),\n        };\n        const url = `${apiUrl}/${resource}?${stringify(query)}`;\n\n        return httpClient(url).then(({ headers, json }) => ({\n            data: json,\n            total: parseInt(headers.get('content-range').split('/').pop(), 10),\n        }));\n    },\n    update: (resource, params) =>\n        httpClient(`${apiUrl}/${resource}/${params.id}`, {\n            method: 'PUT',\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json })),\n    updateMany: (resource, params) => {\n        const query = {\n            filter: JSON.stringify({ id: params.ids }),\n        };\n        return httpClient(`${apiUrl}/${resource}`, {\n            method: 'PUT',\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json }));\n    },\n    create: (resource, params) =>\n        httpClient(`${apiUrl}/${resource}`, {\n            method: 'POST',\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({\n            data: { ...params.data, id: json.id },\n        })),\n    delete: (resource, params) =>\n        httpClient(`${apiUrl}/${resource}/${params.id}`, {\n            method: 'DELETE',\n        }).then(({ json }) => ({ data: json })),\n    deleteMany: (resource, params) => {\n        const query = {\n            filter: JSON.stringify({ id: params.ids }),\n        };\n        return httpClient(`${apiUrl}/${resource}`, {\n            method: 'DELETE',\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json }));\n    },\n};\n\nexport default dataProvider;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}