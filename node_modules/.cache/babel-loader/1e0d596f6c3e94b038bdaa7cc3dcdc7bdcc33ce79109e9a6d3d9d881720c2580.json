{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { useMemo } from 'react';\nimport { Typography } from '@mui/material';\nimport { useReferenceOneFieldController, useRecordContext, ResourceContextProvider, useCreatePath, useTranslate, ReferenceFieldContextProvider } from 'ra-core';\nimport { ReferenceFieldView } from './ReferenceField';\n/**\n * Render the related record in a one-to-one relationship\n *\n * Expects a single field as child\n *\n * @example // display the bio of the current author\n * <ReferenceOneField reference=\"bios\" target=\"author_id\">\n *     <TextField source=\"body\" />\n * </ReferenceOneField>\n */\nexport var ReferenceOneField = function (props) {\n  var _a;\n  var children = props.children,\n    reference = props.reference,\n    _b = props.source,\n    source = _b === void 0 ? 'id' : _b,\n    target = props.target,\n    emptyText = props.emptyText,\n    sort = props.sort,\n    filter = props.filter,\n    _c = props.link,\n    link = _c === void 0 ? false : _c,\n    queryOptions = props.queryOptions;\n  var record = useRecordContext(props);\n  var createPath = useCreatePath();\n  var translate = useTranslate();\n  var controllerProps = useReferenceOneFieldController({\n    record: record,\n    reference: reference,\n    source: source,\n    target: target,\n    sort: sort,\n    filter: filter,\n    queryOptions: queryOptions\n  });\n  var resourceLinkPath = !record || link === false ? false : createPath({\n    resource: reference,\n    id: (_a = controllerProps.referenceRecord) === null || _a === void 0 ? void 0 : _a.id,\n    type: typeof link === 'function' ? link(record, reference) : link\n  });\n  var context = useMemo(function () {\n    return __assign(__assign({}, controllerProps), {\n      link: resourceLinkPath\n    });\n  }, [controllerProps, resourceLinkPath]);\n  return !record || !controllerProps.isPending && controllerProps.referenceRecord == null ? emptyText ? React.createElement(Typography, {\n    component: \"span\",\n    variant: \"body2\"\n  }, emptyText && translate(emptyText, {\n    _: emptyText\n  })) : null : React.createElement(ResourceContextProvider, {\n    value: reference\n  }, React.createElement(ReferenceFieldContextProvider, {\n    value: context\n  }, React.createElement(ReferenceFieldView, {\n    reference: reference,\n    source: source\n  }, children)));\n};\n// disable sorting on this field by default as its default source prop ('id')\n// will match the default sort ({ field: 'id', order: 'DESC'})\n// leading to an incorrect sort indicator in a datagrid header\nReferenceOneField.sortable = false;","map":{"version":3,"names":["React","useMemo","Typography","useReferenceOneFieldController","useRecordContext","ResourceContextProvider","useCreatePath","useTranslate","ReferenceFieldContextProvider","ReferenceFieldView","ReferenceOneField","props","children","reference","_b","source","target","emptyText","sort","filter","_c","link","queryOptions","record","createPath","translate","controllerProps","resourceLinkPath","resource","id","_a","referenceRecord","type","context","__assign","isPending","createElement","component","variant","_","value","sortable"],"sources":["/Users/robertbinning/Documents/GitHub/robertbinning/passkey/node_modules/react-admin/node_modules/ra-ui-materialui/src/field/ReferenceOneField.tsx"],"sourcesContent":["import React, { ReactNode, useMemo } from 'react';\nimport { UseQueryOptions } from '@tanstack/react-query';\nimport { Typography } from '@mui/material';\nimport {\n    useReferenceOneFieldController,\n    useRecordContext,\n    ResourceContextProvider,\n    LinkToType,\n    useCreatePath,\n    useTranslate,\n    SortPayload,\n    RaRecord,\n    ReferenceFieldContextProvider,\n    UseReferenceFieldControllerResult,\n} from 'ra-core';\n\nimport { FieldProps } from './types';\nimport { ReferenceFieldView } from './ReferenceField';\n\n/**\n * Render the related record in a one-to-one relationship\n *\n * Expects a single field as child\n *\n * @example // display the bio of the current author\n * <ReferenceOneField reference=\"bios\" target=\"author_id\">\n *     <TextField source=\"body\" />\n * </ReferenceOneField>\n */\nexport const ReferenceOneField = <\n    RecordType extends RaRecord = RaRecord,\n    ReferenceRecordType extends RaRecord = RaRecord,\n>(\n    props: ReferenceOneFieldProps<RecordType, ReferenceRecordType>\n) => {\n    const {\n        children,\n        reference,\n        source = 'id',\n        target,\n        emptyText,\n        sort,\n        filter,\n        link = false,\n        queryOptions,\n    } = props;\n    const record = useRecordContext<RecordType>(props);\n    const createPath = useCreatePath();\n    const translate = useTranslate();\n\n    const controllerProps = useReferenceOneFieldController<ReferenceRecordType>(\n        {\n            record,\n            reference,\n            source,\n            target,\n            sort,\n            filter,\n            queryOptions,\n        }\n    );\n\n    const resourceLinkPath =\n        !record || link === false\n            ? false\n            : createPath({\n                  resource: reference,\n                  id: controllerProps.referenceRecord?.id,\n                  type:\n                      typeof link === 'function'\n                          ? link(record, reference)\n                          : link,\n              });\n\n    const context = useMemo<UseReferenceFieldControllerResult>(\n        () => ({\n            ...controllerProps,\n            link: resourceLinkPath,\n        }),\n        [controllerProps, resourceLinkPath]\n    );\n    return !record ||\n        (!controllerProps.isPending &&\n            controllerProps.referenceRecord == null) ? (\n        emptyText ? (\n            <Typography component=\"span\" variant=\"body2\">\n                {emptyText && translate(emptyText, { _: emptyText })}\n            </Typography>\n        ) : null\n    ) : (\n        <ResourceContextProvider value={reference}>\n            <ReferenceFieldContextProvider value={context}>\n                <ReferenceFieldView reference={reference} source={source}>\n                    {children}\n                </ReferenceFieldView>\n            </ReferenceFieldContextProvider>\n        </ResourceContextProvider>\n    );\n};\n\nexport interface ReferenceOneFieldProps<\n    RecordType extends RaRecord = RaRecord,\n    ReferenceRecordType extends RaRecord = RaRecord,\n> extends Omit<FieldProps<RecordType>, 'source'> {\n    children?: ReactNode;\n    reference: string;\n    target: string;\n    sort?: SortPayload;\n    source?: string;\n    filter?: any;\n    link?: LinkToType<RecordType>;\n    queryOptions?: Omit<\n        UseQueryOptions<{\n            data: ReferenceRecordType[];\n            total: number;\n        }>,\n        'queryKey'\n    > & { meta?: any };\n}\n\n// disable sorting on this field by default as its default source prop ('id')\n// will match the default sort ({ field: 'id', order: 'DESC'})\n// leading to an incorrect sort indicator in a datagrid header\nReferenceOneField.sortable = false;\n"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAK,IAAeC,OAAO,QAAQ,OAAO;AAEjD,SAASC,UAAU,QAAQ,eAAe;AAC1C,SACIC,8BAA8B,EAC9BC,gBAAgB,EAChBC,uBAAuB,EAEvBC,aAAa,EACbC,YAAY,EAGZC,6BAA6B,QAE1B,SAAS;AAGhB,SAASC,kBAAkB,QAAQ,kBAAkB;AAErD;;;;;;;;;;AAUA,OAAO,IAAMC,iBAAiB,GAAG,SAAAA,CAI7BC,KAA8D;;EAG1D,IAAAC,QAAQ,GASRD,KAAK,CAAAC,QATG;IACRC,SAAS,GAQTF,KAAK,CAAAE,SARI;IACTC,EAAA,GAOAH,KAAK,CAAAI,MAPQ;IAAbA,MAAM,GAAAD,EAAA,cAAG,IAAI,GAAAA,EAAA;IACbE,MAAM,GAMNL,KAAK,CAAAK,MANC;IACNC,SAAS,GAKTN,KAAK,CAAAM,SALI;IACTC,IAAI,GAIJP,KAAK,CAAAO,IAJD;IACJC,MAAM,GAGNR,KAAK,CAAAQ,MAHC;IACNC,EAAA,GAEAT,KAAK,CAAAU,IAFO;IAAZA,IAAI,GAAAD,EAAA,cAAG,KAAK,GAAAA,EAAA;IACZE,YAAY,GACZX,KAAK,CAAAW,YADO;EAEhB,IAAMC,MAAM,GAAGnB,gBAAgB,CAAaO,KAAK,CAAC;EAClD,IAAMa,UAAU,GAAGlB,aAAa,EAAE;EAClC,IAAMmB,SAAS,GAAGlB,YAAY,EAAE;EAEhC,IAAMmB,eAAe,GAAGvB,8BAA8B,CAClD;IACIoB,MAAM,EAAAA,MAAA;IACNV,SAAS,EAAAA,SAAA;IACTE,MAAM,EAAAA,MAAA;IACNC,MAAM,EAAAA,MAAA;IACNE,IAAI,EAAAA,IAAA;IACJC,MAAM,EAAAA,MAAA;IACNG,YAAY,EAAAA;GACf,CACJ;EAED,IAAMK,gBAAgB,GAClB,CAACJ,MAAM,IAAIF,IAAI,KAAK,KAAK,GACnB,KAAK,GACLG,UAAU,CAAC;IACPI,QAAQ,EAAEf,SAAS;IACnBgB,EAAE,EAAE,CAAAC,EAAA,GAAAJ,eAAe,CAACK,eAAe,cAAAD,EAAA,uBAAAA,EAAA,CAAED,EAAE;IACvCG,IAAI,EACA,OAAOX,IAAI,KAAK,UAAU,GACpBA,IAAI,CAACE,MAAM,EAAEV,SAAS,CAAC,GACvBQ;GACb,CAAC;EAEZ,IAAMY,OAAO,GAAGhC,OAAO,CACnB;IAAM,OAAAiC,QAAA,CAAAA,QAAA,KACCR,eAAe;MAClBL,IAAI,EAAEM;IAAgB;EAFpB,CAGJ,EACF,CAACD,eAAe,EAAEC,gBAAgB,CAAC,CACtC;EACD,OAAO,CAACJ,MAAM,IACT,CAACG,eAAe,CAACS,SAAS,IACvBT,eAAe,CAACK,eAAe,IAAI,IAAK,GAC5Cd,SAAS,GACLjB,KAAA,CAAAoC,aAAA,CAAClC,UAAU;IAACmC,SAAS,EAAC,MAAM;IAACC,OAAO,EAAC;EAAO,GACvCrB,SAAS,IAAIQ,SAAS,CAACR,SAAS,EAAE;IAAEsB,CAAC,EAAEtB;EAAS,CAAE,CAAC,CAC3C,GACb,IAAI,GAERjB,KAAA,CAAAoC,aAAA,CAAC/B,uBAAuB;IAACmC,KAAK,EAAE3B;EAAS,GACrCb,KAAA,CAAAoC,aAAA,CAAC5B,6BAA6B;IAACgC,KAAK,EAAEP;EAAO,GACzCjC,KAAA,CAAAoC,aAAA,CAAC3B,kBAAkB;IAACI,SAAS,EAAEA,SAAS;IAAEE,MAAM,EAAEA;EAAM,GACnDH,QAAQ,CACQ,CACO,CAEvC;AACL,CAAC;AAsBD;AACA;AACA;AACAF,iBAAiB,CAAC+B,QAAQ,GAAG,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}