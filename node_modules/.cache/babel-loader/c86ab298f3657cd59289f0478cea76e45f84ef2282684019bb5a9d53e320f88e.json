{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport TextField from '@mui/material/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport { InputHelperText } from './InputHelperText';\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\n/**\n * An Input component for a number\n *\n * @example\n * <NumberInput source=\"nb_views\" />\n *\n * You can customize the `step` props (which defaults to \"any\")\n * @example\n * <NumberInput source=\"nb_views\" step={1} />\n *\n */\nexport var NumberInput = function (_a) {\n  var className = _a.className,\n    _b = _a.defaultValue,\n    defaultValue = _b === void 0 ? null : _b,\n    _c = _a.format,\n    format = _c === void 0 ? convertNumberToString : _c,\n    helperText = _a.helperText,\n    label = _a.label,\n    margin = _a.margin,\n    onChange = _a.onChange,\n    onBlur = _a.onBlur,\n    onFocus = _a.onFocus,\n    parse = _a.parse,\n    resource = _a.resource,\n    source = _a.source,\n    _d = _a.step,\n    step = _d === void 0 ? 'any' : _d,\n    min = _a.min,\n    max = _a.max,\n    validate = _a.validate,\n    variant = _a.variant,\n    overrideInputProps = _a.inputProps,\n    rest = __rest(_a, [\"className\", \"defaultValue\", \"format\", \"helperText\", \"label\", \"margin\", \"onChange\", \"onBlur\", \"onFocus\", \"parse\", \"resource\", \"source\", \"step\", \"min\", \"max\", \"validate\", \"variant\", \"inputProps\"]);\n  var _e = useInput(__assign({\n      defaultValue: defaultValue,\n      onBlur: onBlur,\n      resource: resource,\n      source: source,\n      validate: validate\n    }, rest)),\n    field = _e.field,\n    _f = _e.fieldState,\n    error = _f.error,\n    invalid = _f.invalid,\n    id = _e.id,\n    isRequired = _e.isRequired;\n  var onBlurFromField = field.onBlur;\n  var inputProps = __assign(__assign({}, overrideInputProps), {\n    step: step,\n    min: min,\n    max: max\n  });\n  // This is a controlled input that renders directly the string typed by the user.\n  // This string is converted to a number on change, and stored in the form state,\n  // but that number is not not displayed.\n  // This is to allow transitory values like '1.0' that will lead to '1.02'\n  // text typed by the user and displayed in the input, unparsed\n  var _g = React.useState(format(field.value)),\n    value = _g[0],\n    setValue = _g[1];\n  var hasFocus = React.useRef(false);\n  // update the input text when the record changes\n  React.useEffect(function () {\n    if (!hasFocus.current) {\n      var stringValue_1 = format(field.value);\n      setValue(function (value) {\n        return value !== stringValue_1 ? stringValue_1 : value;\n      });\n    }\n  }, [field.value, format]); // eslint-disable-line react-hooks/exhaustive-deps\n  // update the input text when the user types in the input\n  var handleChange = function (event) {\n    if (onChange) {\n      onChange(event);\n    }\n    if (typeof event.target === 'undefined' || typeof event.target.value === 'undefined') {\n      return;\n    }\n    var target = event.target;\n    setValue(target.value);\n    var newValue = target.valueAsNumber !== undefined && target.valueAsNumber !== null && !isNaN(target.valueAsNumber) ? parse ? parse(target.valueAsNumber) : target.valueAsNumber : parse ? parse(target.value) : convertStringToNumber(target.value);\n    field.onChange(newValue);\n  };\n  var handleFocus = function (event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n    hasFocus.current = true;\n  };\n  var handleBlur = function () {\n    if (onBlurFromField) {\n      onBlurFromField();\n    }\n    hasFocus.current = false;\n    var stringValue = format(field.value);\n    setValue(function (value) {\n      return value !== stringValue ? stringValue : value;\n    });\n  };\n  var renderHelperText = helperText !== false || invalid;\n  var ref = field.ref,\n    fieldWithoutRef = __rest(field, [\"ref\"]);\n  return React.createElement(TextField, __assign({\n    id: id\n  }, fieldWithoutRef, {\n    inputRef: ref,\n    // use the locally controlled state instead of the react-hook-form field state\n    value: value,\n    onChange: handleChange,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    className: clsx('ra-input', \"ra-input-\".concat(source), className),\n    type: \"number\",\n    size: \"small\",\n    variant: variant,\n    error: invalid,\n    helperText: renderHelperText ? React.createElement(InputHelperText, {\n      error: error === null || error === void 0 ? void 0 : error.message,\n      helperText: helperText\n    }) : null,\n    label: React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired\n    }),\n    margin: margin,\n    inputProps: inputProps\n  }, sanitizeInputRestProps(rest)));\n};\nvar convertStringToNumber = function (value) {\n  if (value == null || value === '') {\n    return null;\n  }\n  var float = parseFloat(value);\n  return isNaN(float) ? 0 : float;\n};\nvar convertNumberToString = function (value) {\n  return value == null || isNaN(value) ? '' : value.toString();\n};","map":{"version":3,"names":["React","clsx","TextField","useInput","FieldTitle","InputHelperText","sanitizeInputRestProps","NumberInput","_a","className","_b","defaultValue","_c","format","convertNumberToString","helperText","label","margin","onChange","onBlur","onFocus","parse","resource","source","_d","step","min","max","validate","variant","overrideInputProps","inputProps","rest","__rest","_e","__assign","field","_f","fieldState","error","invalid","id","isRequired","onBlurFromField","_g","useState","value","setValue","hasFocus","useRef","useEffect","current","stringValue_1","handleChange","event","target","newValue","valueAsNumber","undefined","isNaN","convertStringToNumber","handleFocus","handleBlur","stringValue","renderHelperText","ref","fieldWithoutRef","createElement","inputRef","concat","type","size","message","float","parseFloat","toString"],"sources":["/Users/robertbinning/Documents/GitHub/robertbinning/passkey/node_modules/react-admin/node_modules/ra-ui-materialui/src/input/NumberInput.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\n\nimport { CommonInputProps } from './CommonInputProps';\nimport { InputHelperText } from './InputHelperText';\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\n\n/**\n * An Input component for a number\n *\n * @example\n * <NumberInput source=\"nb_views\" />\n *\n * You can customize the `step` props (which defaults to \"any\")\n * @example\n * <NumberInput source=\"nb_views\" step={1} />\n *\n */\nexport const NumberInput = ({\n    className,\n    defaultValue = null,\n    format = convertNumberToString,\n    helperText,\n    label,\n    margin,\n    onChange,\n    onBlur,\n    onFocus,\n    parse,\n    resource,\n    source,\n    step = 'any',\n    min,\n    max,\n    validate,\n    variant,\n    inputProps: overrideInputProps,\n    ...rest\n}: NumberInputProps) => {\n    const {\n        field,\n        fieldState: { error, invalid },\n        id,\n        isRequired,\n    } = useInput({\n        defaultValue,\n        onBlur,\n        resource,\n        source,\n        validate,\n        ...rest,\n    });\n    const { onBlur: onBlurFromField } = field;\n\n    const inputProps = { ...overrideInputProps, step, min, max };\n\n    // This is a controlled input that renders directly the string typed by the user.\n    // This string is converted to a number on change, and stored in the form state,\n    // but that number is not not displayed.\n    // This is to allow transitory values like '1.0' that will lead to '1.02'\n\n    // text typed by the user and displayed in the input, unparsed\n    const [value, setValue] = React.useState(format(field.value));\n\n    const hasFocus = React.useRef(false);\n\n    // update the input text when the record changes\n    React.useEffect(() => {\n        if (!hasFocus.current) {\n            const stringValue = format(field.value);\n            setValue(value => (value !== stringValue ? stringValue : value));\n        }\n    }, [field.value, format]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    // update the input text when the user types in the input\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (onChange) {\n            onChange(event);\n        }\n        if (\n            typeof event.target === 'undefined' ||\n            typeof event.target.value === 'undefined'\n        ) {\n            return;\n        }\n        const target = event.target;\n        setValue(target.value);\n        const newValue =\n            target.valueAsNumber !== undefined &&\n            target.valueAsNumber !== null &&\n            !isNaN(target.valueAsNumber)\n                ? parse\n                    ? parse(target.valueAsNumber)\n                    : target.valueAsNumber\n                : parse\n                  ? parse(target.value)\n                  : convertStringToNumber(target.value);\n        field.onChange(newValue);\n    };\n\n    const handleFocus = (event: React.FocusEvent<HTMLInputElement>) => {\n        if (onFocus) {\n            onFocus(event);\n        }\n        hasFocus.current = true;\n    };\n\n    const handleBlur = () => {\n        if (onBlurFromField) {\n            onBlurFromField();\n        }\n        hasFocus.current = false;\n        const stringValue = format(field.value);\n        setValue(value => (value !== stringValue ? stringValue : value));\n    };\n\n    const renderHelperText = helperText !== false || invalid;\n\n    const { ref, ...fieldWithoutRef } = field;\n    return (\n        <TextField\n            id={id}\n            {...fieldWithoutRef}\n            inputRef={ref}\n            // use the locally controlled state instead of the react-hook-form field state\n            value={value}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n            className={clsx('ra-input', `ra-input-${source}`, className)}\n            type=\"number\"\n            size=\"small\"\n            variant={variant}\n            error={invalid}\n            helperText={\n                renderHelperText ? (\n                    <InputHelperText\n                        error={error?.message}\n                        helperText={helperText}\n                    />\n                ) : null\n            }\n            label={\n                <FieldTitle\n                    label={label}\n                    source={source}\n                    resource={resource}\n                    isRequired={isRequired}\n                />\n            }\n            margin={margin}\n            inputProps={inputProps}\n            {...sanitizeInputRestProps(rest)}\n        />\n    );\n};\n\nexport interface NumberInputProps\n    extends CommonInputProps,\n        Omit<\n            TextFieldProps,\n            | 'label'\n            | 'helperText'\n            | 'defaultValue'\n            | 'onChange'\n            | 'onBlur'\n            | 'type'\n        > {\n    step?: string | number;\n    min?: string | number;\n    max?: string | number;\n}\n\nconst convertStringToNumber = value => {\n    if (value == null || value === '') {\n        return null;\n    }\n    const float = parseFloat(value);\n\n    return isNaN(float) ? 0 : float;\n};\n\nconst convertNumberToString = value =>\n    value == null || isNaN(value) ? '' : value.toString();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}