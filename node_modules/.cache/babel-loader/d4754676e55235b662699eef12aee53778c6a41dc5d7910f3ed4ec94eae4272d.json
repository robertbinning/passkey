{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { memo, useMemo } from 'react';\nimport { InputAdornment } from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { useTranslate, useListFilterContext, SourceContextProvider, useResourceContext } from 'ra-core';\nimport { FormProvider, useForm } from 'react-hook-form';\nimport { TextInput } from '../../input';\n/**\n * Form and search input for doing a full-text search filter.\n *\n * Triggers a search on change (with debounce).\n *\n * @example\n *\n * const FilterPanel = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterLiveSearch source=\"title\" />\n *         </CardContent>\n *     </Card>\n * );\n */\nexport var FilterLiveSearch = memo(function (props) {\n  var _a = useListFilterContext(),\n    filterValues = _a.filterValues,\n    setFilters = _a.setFilters;\n  var translate = useTranslate();\n  var resource = useResourceContext(props);\n  var _b = props.source,\n    source = _b === void 0 ? 'q' : _b,\n    _c = props.label,\n    label = _c === void 0 ? translate('ra.action.search') : _c,\n    placeholder = props.placeholder,\n    rest = __rest(props, [\"source\", \"label\", \"placeholder\"]);\n  var handleChange = function (event) {\n    var _a;\n    if (event.target) {\n      setFilters(__assign(__assign({}, filterValues), (_a = {}, _a[source] = event.target.value, _a)), null, true);\n    } else {\n      var _b = filterValues,\n        _c = source,\n        _1 = _b[_c],\n        filters = __rest(_b, [typeof _c === \"symbol\" ? _c : _c + \"\"]);\n      setFilters(filters);\n    }\n  };\n  var initialValues = useMemo(function () {\n    var _a;\n    return _a = {}, _a[source] = filterValues[source], _a;\n  }, [filterValues, source]);\n  var form = useForm({\n    defaultValues: initialValues\n  });\n  var onSubmit = function (e) {\n    e.preventDefault();\n  };\n  var sourceContext = React.useMemo(function () {\n    return {\n      getSource: function (source) {\n        return source;\n      },\n      getLabel: function (source) {\n        return \"resources.\".concat(resource, \".fields.\").concat(source);\n      }\n    };\n  }, [resource]);\n  return React.createElement(FormProvider, __assign({}, form), React.createElement(SourceContextProvider, {\n    value: sourceContext\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit\n  }, React.createElement(TextInput, __assign({\n    resettable: true,\n    helperText: false,\n    source: source,\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\"\n      }, React.createElement(SearchIcon, {\n        color: \"disabled\"\n      }))\n    },\n    onChange: handleChange,\n    size: \"small\",\n    label: rest.hiddenLabel ? false : label,\n    placeholder: placeholder !== null && placeholder !== void 0 ? placeholder : rest.hiddenLabel ? label : undefined\n  }, rest)))));\n});","map":{"version":3,"names":["React","memo","useMemo","InputAdornment","SearchIcon","useTranslate","useListFilterContext","SourceContextProvider","useResourceContext","FormProvider","useForm","TextInput","FilterLiveSearch","props","_a","filterValues","setFilters","translate","resource","_b","source","_c","label","placeholder","rest","__rest","handleChange","event","target","__assign","value","_1","filters","initialValues","form","defaultValues","onSubmit","e","preventDefault","sourceContext","getSource","getLabel","concat","createElement","resettable","helperText","InputProps","endAdornment","position","color","onChange","size","hiddenLabel","undefined"],"sources":["/Users/robertbinning/Documents/GitHub/robertbinning/passkey/node_modules/react-admin/node_modules/ra-ui-materialui/src/list/filter/FilterLiveSearch.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ChangeEvent, memo, useMemo } from 'react';\nimport { InputAdornment } from '@mui/material';\nimport { SxProps } from '@mui/system';\nimport SearchIcon from '@mui/icons-material/Search';\nimport {\n    useTranslate,\n    useListFilterContext,\n    SourceContextProvider,\n    useResourceContext,\n    SourceContextValue,\n} from 'ra-core';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport { TextInput, TextInputProps } from '../../input';\n\n/**\n * Form and search input for doing a full-text search filter.\n *\n * Triggers a search on change (with debounce).\n *\n * @example\n *\n * const FilterPanel = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterLiveSearch source=\"title\" />\n *         </CardContent>\n *     </Card>\n * );\n */\nexport const FilterLiveSearch = memo((props: FilterLiveSearchProps) => {\n    const { filterValues, setFilters } = useListFilterContext();\n    const translate = useTranslate();\n    const resource = useResourceContext(props);\n\n    const {\n        source = 'q',\n        label = translate('ra.action.search'),\n        placeholder,\n        ...rest\n    } = props;\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        if (event.target) {\n            setFilters(\n                { ...filterValues, [source]: event.target.value },\n                null,\n                true\n            );\n        } else {\n            const { [source]: _, ...filters } = filterValues;\n            setFilters(filters);\n        }\n    };\n\n    const initialValues = useMemo(\n        () => ({\n            [source]: filterValues[source],\n        }),\n        [filterValues, source]\n    );\n\n    const form = useForm({ defaultValues: initialValues });\n\n    const onSubmit = e => {\n        e.preventDefault();\n    };\n\n    const sourceContext = React.useMemo<SourceContextValue>(\n        () => ({\n            getSource: (source: string) => source,\n            getLabel: (source: string) =>\n                `resources.${resource}.fields.${source}`,\n        }),\n        [resource]\n    );\n\n    return (\n        <FormProvider {...form}>\n            <SourceContextProvider value={sourceContext}>\n                <form onSubmit={onSubmit}>\n                    <TextInput\n                        resettable\n                        helperText={false}\n                        source={source}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"end\">\n                                    <SearchIcon color=\"disabled\" />\n                                </InputAdornment>\n                            ),\n                        }}\n                        onChange={handleChange}\n                        size=\"small\"\n                        label={rest.hiddenLabel ? false : label}\n                        placeholder={\n                            placeholder ??\n                            (rest.hiddenLabel ? label : undefined)\n                        }\n                        {...rest}\n                    />\n                </form>\n            </SourceContextProvider>\n        </FormProvider>\n    );\n});\n\nexport interface FilterLiveSearchProps extends Omit<TextInputProps, 'source'> {\n    source?: string;\n    sx?: SxProps;\n    label?: string;\n    fullWidth?: boolean;\n    variant?: 'filled' | 'outlined';\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}